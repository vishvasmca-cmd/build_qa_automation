ğŸš€ Starting autonomous test for https://www.sololearn.com/
Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.
Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.
Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.
Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.
ğŸ¤– CI Environment detected: Forcing Headless Mode
ğŸš€ Explorer: Starting Strategy 2026. Goal: Autonomous smoke test: Navigate site, explore main features, verify key elements

--- Step 1 ---
ğŸ” Mining Page (2026 Strategy): https://www.sololearn.com/en/
ğŸ“ On Page: SoloLearn
ğŸ¤” State: login_screen
ğŸ“¡ Sending 444 elements to the Planner...
ğŸ’­ Thought: The goal is to explore the main features of the site. I am on the login screen, and I don't have credentials. Instead of logging in, I will click the 'OK' button to dismiss the cookie notice, if that's what it is. Then I will navigate to a public area like the courses listing.
   âœ¨ Refined: page.get_by_role("button", { name: "OK" })
ğŸ–±ï¸ Clicking ID=27 (OK)
ğŸ’¾ Trace saved to projects/https___www_sololearn_com__regression/outputs/trace.json
ğŸ’¾ Passive Collection: 444 elements saved.

--- Step 2 ---
ğŸ” Mining Page (2026 Strategy): https://www.sololearn.com/en/
ğŸ“ On Page: SoloLearn - Learn to code
ğŸ¤” State: login_screen
ğŸ“¡ Sending 444 elements to the Planner...
ğŸ’­ Thought: The goal is to navigate the site and explore the main features. I'm currently on the login screen. Since there are no credentials in the test_data, I will skip the login process and explore the available courses on the page, which is a main feature.
   âœ¨ Refined: page.mouse.click(2590, 791)
ğŸ“œ Scrolling down...
ğŸ’¾ Trace saved to projects/https___www_sololearn_com__regression/outputs/trace.json
ğŸ’¾ Passive Collection: 444 elements saved.

--- Step 3 ---
ğŸ” Mining Page (2026 Strategy): https://www.sololearn.com/en/
ğŸ“ On Page: SoloLearn
ğŸ¤” State: login_screen
ğŸ“¡ Sending 417 elements to the Planner...
ğŸ’­ Thought: I am on the login screen. The goal is to navigate the site and explore the main features. I should avoid logging in because I don't have credentials. Instead, I will click on one of the available courses to see if I can access it without logging in.
   âœ¨ Refined: page.get_by_role("link", { name: "Generative AI in Practice" })
ğŸ–±ï¸ Clicking ID=35 (Generative AI in Practice)
ğŸ’¾ Trace saved to projects/https___www_sololearn_com__regression/outputs/trace.json
ğŸ’¾ Passive Collection: 417 elements saved.

--- Step 4 ---
ğŸ” Mining Page (2026 Strategy): https://www.sololearn.com/en/learn/courses/genai-in-practice
ğŸ“ On Page: SoloLearn - GenAI in Practice
ğŸ¤” State: logged_out
ğŸ“¡ Sending 2 elements to the Planner...
ğŸ’­ Thought: I have successfully navigated to the course details page. Now I will scroll to the bottom of the page to explore more links.
   âœ¨ Refined: page.get_by_text('Terms')
ğŸ“œ Scrolling down...
ğŸ’¾ Trace saved to projects/https___www_sololearn_com__regression/outputs/trace.json
ğŸ’¾ Passive Collection: 2 elements saved.

--- Step 5 ---
ğŸ” Mining Page (2026 Strategy): https://www.sololearn.com/en/learn/courses/genai-in-practice
ğŸ“ On Page: SoloLearn - Generative AI in Practice
ğŸ¤” State: login_screen
ğŸ“¡ Sending 525 elements to the Planner...
ğŸ’­ Thought: I am on the landing page for a Generative AI course on SoloLearn. The goal is to navigate the site, explore main features, and verify key elements. I will explore by clicking on the 'Courses' link to navigate away from the login/signup screen.
   âš ï¸ Refinement timeout/error: Locator.evaluate: Error: strict mode violation: lo...
   âœ¨ Refined: page.get_by_text('Courses')
ğŸ–±ï¸ Clicking ID=22 (Courses)
   ğŸ‘‰ Locator failed. Using coordinate fallback.
ğŸ’¾ Trace saved to projects/https___www_sololearn_com__regression/outputs/trace.json
ğŸ’¾ Passive Collection: 525 elements saved.

--- Step 6 ---
ğŸ” Mining Page (2026 Strategy): https://www.sololearn.com/en/learn/courses/genai-in-practice
ğŸ“ On Page: SoloLearn - Generative AI in Practice
ğŸ¤” State: login_screen
ğŸ“¡ Sending 525 elements to the Planner...
ğŸ’­ Thought: I have already clicked the 'Courses' button. Now, the goal is to explore main features and verify key elements. I see a list of lessons related to 'Generative AI in Practice', which aligns with the goal of exploring main features. Since the page has already loaded the course content I will mark it as done.
âœ… Goal Achieved!
ğŸ’¾ Trace saved to projects/https___www_sololearn_com__regression/outputs/trace.json
  File "/home/runner/work/build_qa_automation/build_qa_automation/core/refiner.py", line 71
    - Syntax: `smart_action(page, """playwright_locator_string""", "action_type", value="optional_value")`
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^
SyntaxError: invalid syntax
Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.
ğŸš€ Triggering agent with config: /home/runner/work/build_qa_automation/build_qa_automation/projects/https___www_sololearn_com__regression/config.json
ğŸš€ Starting Autonomous Pipeline for https___www_sololearn_com__regression...

[Step 0/7] ğŸ“‹ Strategic Test Planning...
âš ï¸ Pre-Planning Failed: attempted relative import with no known parent package
ğŸ“ Failure logged to knowledge/failures.json

[Step 1/7] ğŸ—ºï¸  Exploring & Mining (Plan-Guided)...

[Step 2/7] ğŸ“– Updating Knowledge Bank...
ğŸ“– Knowledge Bank updated for www.sololearn.com

[Step 3/7] ğŸ’» Generating Robust Code...
âŒ Code Generation Failed!
ğŸ“ Failure logged to knowledge/failures.json
âœ… POM Structure generated: projects/https___www_sololearn_com__regression/outputs/pom_structure.json
{
  "base_url": "https://www.sololearn.com/",
  "workflow": "Autonomous smoke test: Navigate site, explore main features, verify key elements",
  "pages": [
    {
      "name": "EnPage",
      "url": "/en/",
      "locators": [
        {
          "name": "login_button",
          "selector": "get_by_role(\"button\", name=\"OK\")",
          "element": {
            "tag": "button",
            "text": "OK",
            "role": ""
          }
        },
        {
          "name": "scroll_img",
          "selector": "mouse.click(2590, 791)",
          "element": {
            "tag": "img",
            "text": "",
            "role": ""
          }
        }
      ],
      "actions": [
        {
          "name": "click_login_button",
          "steps": [
            {
              "step": 0,
              "action": "click",
              "locator_name": "login_button",
              "value": null,
              "thought": "The goal is to explore the main features of the site. I am on the login screen, and I don't have credentials. Instead of logging in, I will click the 'OK' button to dismiss the cookie notice, if that's what it is. Then I will navigate to a public area like the courses listing."
            }
          ],
          "params": ""
        }
      ]
    },
    {
      "name": "EnLearnCoursesGenaiInPracticePage",
      "url": "/en/learn/courses/genai-in-practice",
      "locators": [
        {
          "name": "generative_ai_in_practice_link",
          "selector": "get_by_role(\"link\", name=\"Generative AI in Practice\")",
          "element": {
            "tag": "a",
            "text": "Generative AI in Practice",
            "role": ""
          }
        },
        {
          "name": "terms_link",
          "selector": "get_by_text('Terms')",
          "element": {
            "tag": "a",
            "text": "Terms",
            "role": ""
          }
        },
        {
          "name": "courses_link",
          "selector": "get_by_text('Courses')",
          "element": {
            "tag": "a",
            "text": "Courses",
            "role": ""
          }
        }
      ],
      "actions": [
        {
          "name": "click_generative_ai_in_practice_link",
          "steps": [
            {
              "step": 2,
              "action": "click",
              "locator_name": "generative_ai_in_practice_link",
              "value": null,
              "thought": "I am on the login screen. The goal is to navigate the site and explore the main features. I should avoid logging in because I don't have credentials. Instead, I will click on one of the available courses to see if I can access it without logging in."
            }
          ],
          "params": ""
        },
        {
          "name": "perform_scroll",
          "steps": [
            {
              "step": 3,
              "action": "scroll",
              "locator_name": "terms_link",
              "value": "bottom",
              "thought": "I have successfully navigated to the course details page. Now I will scroll to the bottom of the page to explore more links."
            },
            {
              "step": 4,
              "action": "click",
              "locator_name": "courses_link",
              "value": null,
              "thought": "I am on the landing page for a Generative AI course on SoloLearn. The goal is to navigate the site, explore main features, and verify key elements. I will explore by clicking on the 'Courses' link to navigate away from the login/signup screen."
            }
          ],
          "params": ""
        }
      ]
    }
  ],
  "tests": [
    {
      "name": "test_workflow_execution",
      "description": "Autonomous smoke test: Navigate site, explore main features, verify key elements",
      "steps_description": [
        "The goal is to explore the main features of the site. I am on the login screen, and I don't have credentials. Instead of logging in, I will click the 'OK' button to dismiss the cookie notice, if that's what it is. Then I will navigate to a public area like the courses listing.",
        "The goal is to navigate the site and explore the main features. I'm currently on the login screen. Since there are no credentials in the test_data, I will skip the login process and explore the available courses on the page, which is a main feature.",
        "I am on the login screen. The goal is to navigate the site and explore the main features. I should avoid logging in because I don't have credentials. Instead, I will click on one of the available courses to see if I can access it without logging in.",
        "I have successfully navigated to the course details page. Now I will scroll to the bottom of the page to explore more links.",
        "I am on the landing page for a Generative AI course on SoloLearn. The goal is to navigate the site, explore main features, and verify key elements. I will explore by clicking on the 'Courses' link to navigate away from the login/signup screen."
      ],
      "page_objects": [
        {
          "class_name": "EnPage",
          "var_name": "en_page",
          "goto": true,
          "description": "Page object for En"
        },
        {
          "class_name": "EnLearnCoursesGenaiInPracticePage",
          "var_name": "en_learn_courses_genai_in_practice_page",
          "goto": false,
          "description": "Page object for EnLearnCoursesGenaiInPractice"
        }
      ],
      "actions": [
        {
          "code": "en_page.click_login_button()",
          "comment": "The goal is to explore the main features of the site. I am o"
        },
        {
          "code": "en_learn_courses_genai_in_practice_page.click_generative_ai_in_practice_link()",
          "comment": "I am on the login screen. The goal is to navigate the site a"
        },
        {
          "code": "en_learn_courses_genai_in_practice_page.perform_scroll(\"bottom\")",
          "comment": "I have successfully navigated to the course details page. No"
        }
      ],
      "assertions": [
        {
          "code": "expect(page).to_have_url(re.compile(\".*\"))",
          "comment": "Verify page navigation successful"
        }
      ]
    }
  ]
}
âœ… Generated: projects/https___www_sololearn_com__regression/pages/base_page.py
âœ… Generated: projects/https___www_sololearn_com__regression/pages/en_page.py
âœ… Generated: projects/https___www_sololearn_com__regression/pages/en_learn_courses_genai_in_practice_page.py
âœ… Generated: projects/https___www_sololearn_com__regression/pages/__init__.py
âœ… Generated: projects/https___www_sololearn_com__regression/tests/e2e/test_main.py

ğŸ‰ POM Generation Complete!
ğŸ“ Pages: 2 files
ğŸ“ Tests: 1 files
============================= test session starts ==============================
platform linux -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /opt/hostedtoolcache/Python/3.11.14/x64/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.14', 'Platform': 'Linux-6.11.0-1018-azure-x86_64-with-glibc2.39', 'Packages': {'pytest': '9.0.2', 'pluggy': '1.6.0'}, 'Plugins': {'html': '4.1.1', 'base-url': '2.1.0', 'anyio': '4.12.0', 'playwright': '0.7.2', 'metadata': '3.1.1', 'langsmith': '0.6.0'}, 'CI': 'true', 'JAVA_HOME': '/usr/lib/jvm/temurin-17-jdk-amd64', 'Base URL': ''}
rootdir: /home/runner/work/build_qa_automation/build_qa_automation
plugins: html-4.1.1, base-url-2.1.0, anyio-4.12.0, playwright-0.7.2, metadata-3.1.1, langsmith-0.6.0
collecting ... collected 1 item

projects/https___www_sololearn_com__regression/tests/e2e/test_main.py::test_workflow_execution[chromium] FAILED [100%]

=================================== FAILURES ===================================
______________________ test_workflow_execution[chromium] _______________________

page = <Page url='https://www.sololearn.com/en/'>

    def test_workflow_execution(page: Page):
        """
        Autonomous smoke test: Navigate site, explore main features, verify key elements
    
        Test Steps:
    
        1. The goal is to explore the main features of the site. I am on the login screen, and I don't have credentials. Instead of logging in, I will click the 'OK' button to dismiss the cookie notice, if that's what it is. Then I will navigate to a public area like the courses listing.
    
        2. The goal is to navigate the site and explore the main features. I'm currently on the login screen. Since there are no credentials in the test_data, I will skip the login process and explore the available courses on the page, which is a main feature.
    
        3. I am on the login screen. The goal is to navigate the site and explore the main features. I should avoid logging in because I don't have credentials. Instead, I will click on one of the available courses to see if I can access it without logging in.
    
        4. I have successfully navigated to the course details page. Now I will scroll to the bottom of the page to explore more links.
    
        5. I am on the landing page for a Generative AI course on SoloLearn. The goal is to navigate the site, explore main features, and verify key elements. I will explore by clicking on the 'Courses' link to navigate away from the login/signup screen.
    
        """
        # ==================== ARRANGE ====================
        # Initialize page objects
    
        en_page = EnPage(page)  # Page object for En
    
    
        en_learn_courses_genai_in_practice_page = EnLearnCoursesGenaiInPracticePage(page)  # Page object for EnLearnCoursesGenaiInPractice
    
    
    
        # ==================== ACT ====================
        # Execute workflow actions
    
        en_page.click_login_button()  # The goal is to explore the main features of the site. I am o
    
>       en_learn_courses_genai_in_practice_page.click_generative_ai_in_practice_link()  # I am on the login screen. The goal is to navigate the site a
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

projects/https___www_sololearn_com__regression/tests/e2e/test_main.py:59: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
projects/https___www_sololearn_com__regression/pages/en_learn_courses_genai_in_practice_page.py:42: in click_generative_ai_in_practice_link
    self.do_click(self.generative_ai_in_practice_link)  # Click generative_ai_in_practice_link
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
projects/https___www_sololearn_com__regression/pages/base_page.py:20: in do_click
    locator.click(timeout=5000) # Fast fail first
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/sync_api/_generated.py:15637: in click
    self._sync(
/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_locator.py:162: in click
    return await self._frame._click(self._selector, strict=True, **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_frame.py:566: in _click
    await self._channel.send("click", self._timeout, locals_to_params(locals()))
/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py:69: in send
    return await self._connection.wrap_api_call(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <playwright._impl._connection.Connection object at 0x7f5b4d9daa90>
cb = <function Channel.send.<locals>.<lambda> at 0x7f5b4d7ef380>
is_internal = False, title = None

    async def wrap_api_call(
        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None
    ) -> Any:
        if self._api_zone.get():
            return await cb()
        task = asyncio.current_task(self._loop)
        st: List[inspect.FrameInfo] = getattr(
            task, "__pw_stack__", None
        ) or inspect.stack(0)
    
        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)
        self._api_zone.set(parsed_st)
        try:
            return await cb()
        except Exception as error:
>           raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
E           playwright._impl._errors.Error: Locator.click: Error: strict mode violation: get_by_role("link", name="Generative AI in Practice") resolved to 2 elements:
E               1) <a class="sl-home-course-item" href="/en/learn/courses/genai-in-practice">â€¦</a> aka get_by_role("link", name="course Generative AI in")
E               2) <a href="/en/learn/courses/genai-in-practice">Generative AI in Practice</a> aka get_by_role("link", name="Generative AI in Practice", exact=True)
E           
E           Call log:
E             - waiting for get_by_role("link", name="Generative AI in Practice")

/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py:559: Error
- Generated html report: file:///home/runner/work/build_qa_automation/build_qa_automation/projects/https___www_sololearn_com__regression/outputs/pytest_report.html -
=========================== short test summary info ============================
FAILED projects/https___www_sololearn_com__regression/tests/e2e/test_main.py::test_workflow_execution[chromium] - playwright._impl._errors.Error: Locator.click: Error: strict mode violation: get_by_role("link", name="Generative AI in Practice") resolved to 2 elements:
    1) <a class="sl-home-course-item" href="/en/learn/courses/genai-in-practice">â€¦</a> aka get_by_role("link", name="course Generative AI in")
    2) <a href="/en/learn/courses/genai-in-practice">Generative AI in Practice</a> aka get_by_role("link", name="Generative AI in Practice", exact=True)

Call log:
  - waiting for get_by_role("link", name="Generative AI in Practice")
============================== 1 failed in 3.98s ===============================

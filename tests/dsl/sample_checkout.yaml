test_name: saucedemo_checkout
base_url: https://www.saucedemo.com/

steps:
  # Login
  - action: login
    username: standard_user
    password: secret_sauce
    username_selector: "[id='user-name']"
    password_selector: "[id='password']"
    submit_selector: "[id='login-button']"
    expect_redirect: /inventory.html

  # Add to cart
  - action: click
    locator: "[data-test='add-to-cart-sauce-labs-backpack']"

  # Go to cart
  - action: click
    locator: ".shopping_cart_link"

  # Checkout
  - action: click
    locator: "[data-test='checkout']"

  # Fill info
  - action: fill
    locator: "[data-test='firstName']"
    value: John
  - action: fill
    locator: "[data-test='lastName']"
    value: Doe
  - action: fill
    locator: "[data-test='postalCode']"
    value: "12345"

  # Finish
  - action: click
    locator: "[data-test='continue']"
  - action: click
    locator: "[data-test='finish']"
  
  - action: assert
    type: text_visible
    value: Thank you for your order

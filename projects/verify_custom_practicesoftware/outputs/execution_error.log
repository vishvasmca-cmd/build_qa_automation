============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\vishv\AppData\Local\Programs\Python\Python311\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\vishv\.gemini\antigravity\playground\inner-event
plugins: anyio-4.12.0, langsmith-0.5.2, base-url-2.1.0, playwright-0.7.2
collecting ... collected 1 item

projects/verify_custom_practicesoftware/tests/test_main.py::test_autonomous_flow[chromium] [SCREENSHOT] Saved: C:\Users\vishv\.gemini\antigravity\playground\inner-event\projects\AutomationPractice\outputs\screenshots\registration_form.png
Registration successful.
FAILED

================================== FAILURES ===================================
_______________________ test_autonomous_flow[chromium] ________________________

browser = <Browser type=<BrowserType name=chromium executable_path=C:\Users\vishv\AppData\Local\ms-playwright\chromium-1200\chrome-win64\chrome.exe> version=143.0.7499.4>

    def test_autonomous_flow(browser):
        page = browser.new_page()
        my_account_page = MyAccountPage(page)
    
        # Navigate to the My Account page
        my_account_page.navigate("https://practice.automationtesting.in/my-account/")
    
        # Fill the registration email
        my_account_page.fill_registration_email("test@example.com")
    
        # Fill the registration password
        my_account_page.fill_registration_password("password123")
    
        # Click the register button
        my_account_page.click_register()
    
        # Take a screenshot
        my_account_page.take_screenshot("registration_form", "AutomationPractice")
    
        # Expectation for successful registration
        # The test failed because the password field was not filled. After filling the password field, the registration should be successful.
        # The success message is wrapped in a ul element with class woocommerce-error. The message itself is in a li element.
        # expect(page.locator(".woocommerce-message")).to_be_visible()
        page.wait_for_load_state("networkidle")
        # Check for error messages. If registration fails, there will be an error message.
        if page.locator(".woocommerce-error").is_visible():
            print("Registration failed. Please check the error message.")
            expect(True).to_be(False, "Registration Failed")
        else:
            print("Registration successful.")
            # If registration is successful, you might want to check for a success message or a redirect.
            # For example, you can check if the page URL changes to the account page.
>           expect(page.url).to_contain("my-account", timeout=60000)
            ^^^^^^^^^^^^^^^^

projects\verify_custom_practicesoftware\tests\test_main.py:73: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <playwright.sync_api.Expect object at 0x0000024D1C469D50>
actual = 'https://practice.automationtesting.in/my-account/', message = None

    def __call__(
        self, actual: Union[Page, Locator, APIResponse], message: Optional[str] = None
    ) -> Union[PageAssertions, LocatorAssertions, APIResponseAssertions]:
        if isinstance(actual, Page):
            return PageAssertions(
                PageAssertionsImpl(actual._impl_obj, self._timeout, message=message)
            )
        elif isinstance(actual, Locator):
            return LocatorAssertions(
                LocatorAssertionsImpl(actual._impl_obj, self._timeout, message=message)
            )
        elif isinstance(actual, APIResponse):
            return APIResponseAssertions(
                APIResponseAssertionsImpl(
                    actual._impl_obj, self._timeout, message=message
                )
            )
>       raise ValueError(f"Unsupported type: {type(actual)}")
E       ValueError: Unsupported type: <class 'str'>

..\..\..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\playwright\sync_api\__init__.py:143: ValueError
=========================== short test summary info ===========================
FAILED projects/verify_custom_practicesoftware/tests/test_main.py::test_autonomous_flow[chromium]
============================== 1 failed in 7.49s ==============================

